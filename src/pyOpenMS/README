General
-------

pyopenms is a python library for the analysis of mass spectrometry data.
It is mainly based on Cython wrappers around the OpenMS C++ library. To see which classes and functions are
currently wrapped, please check the pxd files under "./pxds" or consult our
[API documentation](https://pyopenms.readthedocs.io/en/latest/apidocs/index.html).
Additionally, it provides some convenience functions for plotting or converting from to dataframes or numpy arrays.

Wrapping new classes
--------------------

See README_WRAPPING_NEW_CLASSES

Build instructions
-----------------

1. Get python 3.7+ and the following python libraries:
   - pip
   - Cython
   - autowrap
   - numpy
   - pytest (optional, required for testing)

2. If running from an OpenMS build tree (recommended), just reconfigure with

   ```bash
   cmake -DPYOPENMS=ON .
   ```
   If it does not find the python that you just installed and/or complains about libraries not found although
   you just installed them, help it find the correct python executable by addind `-DPython_EXECUTABLE="/path/to/python(.exe)"`
   If your computer has a lot of RAM (16GB+) you can add `-DPY_NUM_THREADS=2`
   (or up to the number of split modules, which are by default PY_NUM_MODULES=8).

3. Build target "pyopenms" with

   ```bash
   cmake --build . --target pyopenms
   ```

4. Run tests with

   ```bash
   ctest -R pyopenms
   ```

5. Install locally (and in-place for live edits [option -e]) into current python with

   ```bash
   pip install -e pyopenms --no-cache-dir --no-binary=pyopenms
   ```
   no-binary is used because the binaries are/were built with CMake.
